{"remainingRequest":"D:\\xblog\\xblog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xblog\\xblog-admin\\src\\views\\comment\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xblog\\xblog-admin\\src\\views\\comment\\index.vue","mtime":1583762891466},{"path":"D:\\xblog\\xblog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xblog\\xblog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\xblog\\xblog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xblog\\xblog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { fetchCommentList, deleteComment } from '@/api/comment'\nimport Pagination from '@/components/Pagination'\nexport default {\n  components: { Pagination },\n  data() {\n    return {\n      data: {},\n      list: [\n        {\n          id: null,\n          blogId: null,\n          blogTitle: '',\n          commentDate: '',\n          readerName: '',\n          readerAvatar: '',\n          ip: '',\n          content: '',\n          receiverName: '',\n          receiverAvatar: '',\n          receiverContent: '',\n          receiverDate: ''\n        }\n      ],\n      total: 0,\n      listQuery: {\n        page: 1,\n        limit: 10\n      }\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      fetchCommentList(this.listQuery).then(response => {\n        this.list = response.data.list\n        this.total = response.data.total\n      })\n    },\n    calcIndex(index) {\n      return this.size * (this.page - 1) + index + 1\n    },\n    handleDelete(index, row) {\n      this.$confirm(`此操作将永久删除该评论, 是否继续?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteComment(row.id).then(response => {\n          // 更新数据\n          this.fetchData()\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n        })\n      })\n    },\n    handleCurrentPageChange(currPage) {\n      this.page = currPage\n      this.fetchData()\n    },\n    blogTitleFormatter(row) {\n      return `《${row.blogTitle}》`\n    }\n  }\n}\n",null]}