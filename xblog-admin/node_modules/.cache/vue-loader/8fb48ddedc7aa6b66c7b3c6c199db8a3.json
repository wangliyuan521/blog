{"remainingRequest":"D:\\xblog\\xblog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xblog\\xblog-admin\\src\\views\\tag\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xblog\\xblog-admin\\src\\views\\tag\\index.vue","mtime":1583766844668},{"path":"D:\\xblog\\xblog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xblog\\xblog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\xblog\\xblog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xblog\\xblog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { fetchTagList, deleteTag, addTag, updateTag } from '@/api/tag'\nimport Pagination from '@/components/Pagination'\n\nexport default {\n  components: { Pagination },\n  data() {\n    return {\n      data: {},\n      list: [\n        {\n          id: null,\n          name: ''\n        }\n      ],\n      total: 0,\n      listQuery: {\n        page: 1,\n        limit: 10\n      }\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      fetchTagList(this.listQuery).then(response => {\n        this.list = response.data.list\n        this.total = response.data.total\n      })\n    },\n    calcIndex(index) {\n      return this.size * (this.page - 1) + index + 1\n    },\n    handleAdd() {\n      this.$prompt('请输入标签名称', '新建', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消'\n      }).then(({ value }) => {\n        addTag({ name: value }).then(response => {\n          this.$message({\n            type: 'success',\n            message: '添加成功！'\n          })\n          this.fetchData()\n        })\n      })\n    },\n    handleEdit(index, row) {\n      if (this.currRow === null) {\n        this.currRow = row\n      }\n      this.$prompt('请输入标签名称', '修改', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消'\n      }).then(({ value }) => {\n        updateTag({ id: this.currRow.id, name: value }).then(response => {\n          this.$message({\n            type: 'success',\n            message: '修改成功！'\n          })\n          this.fetchData()\n        })\n      })\n    },\n    handleDelete() {\n      if (this.currRow === null) {\n        this.currRow = row\n      }\n      this.$confirm(`此操作将永久删除标签“ ${this.currRow.name} ”，是否继续?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteTag(this.currRow.id).then(response => {\n          // 更新数据\n          this.fetchData()\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n          this.currRow = null\n        })\n      })\n    },\n    handleCurrentPageChange(currPage) {\n      this.page = currPage\n      this.fetchData()\n    },\n    handleCurrentRowChange(currRow) {\n      this.currRow = currRow\n    }\n  }\n}\n",null]}