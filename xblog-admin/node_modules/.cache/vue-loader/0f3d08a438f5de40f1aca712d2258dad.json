{"remainingRequest":"D:\\xblog\\xblog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xblog\\xblog-admin\\src\\layout\\components\\Navbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xblog\\xblog-admin\\src\\layout\\components\\Navbar.vue","mtime":1583764316020},{"path":"D:\\xblog\\xblog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xblog\\xblog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\xblog\\xblog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xblog\\xblog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex'\nimport Breadcrumb from '@/components/Breadcrumb'\nimport Hamburger from '@/components/Hamburger'\nimport Upload from '@/components/Upload'\nimport { getToken } from '@/utils/auth'\nimport { getInfo, updateAdmin } from '@/api/admin'\n\nexport default {\n  components: {\n    lbUpload: Upload,\n    Breadcrumb,\n    Hamburger\n  },\n  data() {\n    return {\n      userInfo: {\n        nickname: '',\n        username: '',\n        password: '',\n        avatar: '',\n        email: '',\n        profile: ''\n      },\n      dialogFormVisible: false\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'sidebar',\n      'avatar'\n    ])\n  },\n  created() {\n    getInfo(getToken).then(response => {\n      this.userInfo = response.data\n    })\n  },\n  methods: {\n    handleUpdate() {\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    onSubmit() {\n      updateAdmin(this.userInfo).then(response => {\n        // 更新state信息\n        this.$store.dispatch('admin/getInfo')\n        this.dialogFormVisible = false\n        this.$message({\n          type: 'success',\n          message: '提交成功！'\n        })\n      })\n    },\n    toggleSideBar() {\n      this.$store.dispatch('app/toggleSideBar')\n    },\n    async logout() {\n      await this.$store.dispatch('admin/logout')\n      this.$router.push(`/login?redirect=${this.$route.fullPath}`)\n    }\n  }\n}\n",null]}